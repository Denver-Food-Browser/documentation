# Project Overview
:lightbulb: The Denver Food Browser project is building a free-to-access regional directory and verification tracker designed by and for people who want to find free food and meals in the Denver Metro area.

## Roadmap

Directory Population Phase One: Online Verification | November 2025-Ongoing

Directory Population Phase Two: Live Verification | TBD

Notion Migration | January 2026-Ongoing

## Key Objectives

1. Maintain an up-to-date directory of regional services.
2. Built and maintained by and for people who use these services based on real feedback.
3. Verify service offerings with reviews from actual people who use these services.
4. Identify existing services to fill service gaps and avoid creating redundancy.

## Similar Tools and Services

| **Tool/Service** | **How to Access** | **Comments** |
| --- | --- | --- |
| 211 Colorado | - [https://search.211colorado.org](https://search.211colorado.org/)<br />- Dial 2-1-1 or (866) 760-6489 toll free<br />- Text your ZIP CODE to 898-211* | Limited and inflexible filtering. Best for finding a nearby service based on zip code. |
| Food Bank of the Rockies | [https://www.foodbankrockies.org/find-food](https://www.foodbankrockies.org/find-food/) |  |
| Plentiful App |  | No filtering |
| Hungry Free Colorado | 855-855-4626<br />The statewide, toll-free hotline is open Monday-Thursday 8:30am-4:30pm and Friday 8am-12pm | No filtering. Limited hours. |
| FindHelp.org | [findhelp.org](https://findhelp.org) | More useful filters than the others. Extremely limited # of results. |

## Benchmarking

| **Feature** | **Source** |
| --- | --- |
| Form to submit directory updates | [211 Colorado](https://www.211colorado.org/update-database/) |
| Mutual aid calendar | [SAFE Boulder](https://safeboulder.org/aid/) |
| Grassroots calendar | [DODENVER.DIY](https://dodenver.diy/) |
| Notices about schedule changes | [Food Bank of the Rockies](https://www.foodbankrockies.org/find-food/) |
| Map view includes all filtering | [Craigslist](https://denver.craigslist.org/search/sss) |
| Recently updated badge | [Community Food Share](https://communityfoodshare.org/food-map/) |
| Distributed, organized volunteer network to support the Project | [WordPress.org](https://make.wordpress.org/contribute/) |

# User Feedback
Feedback has been solicited via Discord, Signal, text message, and verbal disclosure.

## Survey Questions
### On directories
1. What features do you want in the user interface?
2. What info helps you choose a food bank/meal site?
3. On directories you've used: what do they do well? What do they need to improve?

### On services
1. How can finding or accessing food be easier for you in general?
2. If you don't visit a food bank at least 1x/month, how come?
3. favorite/least favorite places to get free food & why
4. people who *don't* get free food: what would need to change for them to consider it

## Responses

### 1 she/they
Hey Rose! I wanna answer your questions. I wanna preface this by saying these just are my personal opinions of course.

1. Info I look for in choosing a food bank… most important to me is "**can I get there on time**." Lots of food banks are **closed when I'm at work**. **Sometimes I am able to go during a break** in my day and those have been lifesavers.
2. Features I look for: can I search my **zip code**? Are there **requirements**?
3. Some directories can improve by posting **correct hours** of operation… several times I’ve shown up at the wrong time or day because they’re not updated.
4. Access to food is immensely easier when it is **stipulation-free**: no "**curbside** required", no **paperwork**, no listing of **income**. The best food banks are "just show up" and "**pick what you want**." I have told food banks that I have an **autoimmune disorder** and cannot accept lots of sweet treats, only for them to give me an entire bag of candy, an entire cake, a bag of cookies. **It's kind, but** it would be better served going to a family who is happy to eat them.
5. The most disappointing thing is that I find churches can kind of "**gate keep" food** donations. My sister has also been **shamed** at a **church** food bank (a woman asked "why are you even here?"). She had just given birth and was in between jobs. It should be assumed that anyone who shows up is struggling to put food on the table and needs it.
6. **I try to visit a food bank monthly or twice a month**, but sometimes I'm literally at work all day. From **6am to 6pm or later**. This can be a huge barrier to getting to a food bank. Have heard of food banks **delivering** or having "**go bags**" at their front desk. It would be **so wonderful if places were open after work**.

### 2 they
#### Info:
1. **Who runs** the food bank (locally and ultimately) (important if e.g. run by a **religious** group who would exclude you or by a **state** actor during inclement **politics** for your group)
2. **All services** offered (e.g. is there a **clothing** bank, **repair** shop, **library**, **wi-fi**, **laundry**, **showers**, **healthcare** connections, **mailbox**, etc?)
3. Does the typical food pickup include **fresh**, **frozen**, **dairy**, **meat**, **vegan** options, **toiletries**, **pet food** etcetera?
4. **Hot meals**?
5. **Atmosphere**: solarpunk (community garden, hippy vibe, etc?), hackerspace, clinical, bureaucratic?
6. ID **requirements** to sign up or visit?
7. **Restrictions** on who can be served? E.g. **fixed address**, area, **lgbtq**, **women**?
8. **Location** of the food bank
9. **Is it safe**? Rate the **typical vibe of interactions** and of **other guests** (no specific name calling out or doxxing!)
10. Have **police or govt officers** been seen there **with or without a specific incident**?
11. **Does food often run out**?
12. Are there **enough laundry machines, showers etc** or are they always in use?
13. Are **appointments** needed within/outside business hours?
14. Opening **hours**

> **Weave food banks into** local community gardens, [Incredible Edible](https://www.incredibleedible.org.uk/what-we-do/), hackerspaces, libraries and [Transition](https://engagedharma.net/2025/07/11/transition-towns-post-mortem-an-opportunity-lost/) [Towns](https://lifestyle.sustainability-directory.com/term/transition-towns-movement/) as a way to make a resilient community baseline; no matter what, you should be able to survive.

#### Features:
1. **Sort** by above info categories
2. **Contact** the food bank for appointments, info etc
3. Find on a map (**OpenStreetMap** based please)
4. **Rate** the food bank and its atmosphere etc
5. Add community notes and updates
6. Search by which food banks **accept direct donations** or which only accept them centrally
7. Search by **who runs them**
8. Search by **proximity (straight line)**
9. Search by **proximity (by road, rail, bike etc)**
10. Search by **energy use to get there and back** (a food bank that is nearer may have mountains in the way that use up fuel or energy in your car)
11. Important: a **calendar** of which food banks in your **saved list** or search are open when.

#### Directories used:
Not sure what to say but **none of them felt complete** enough. Certainly a **map interface makes a lot of sense** though.

#### Making it easier:
- Have some food banks **open at night** for nocturnal folks.
- Have more **non-religious, non-state** options

> Make food banks and **free stuff the default** thing people do, not the shameful fallback capitalist America treats it as.

# Requirements
## Functional Requirements
***Description of what the software must do.***

### Features
- map view
- calendar view
- reviews/service verification by actual users
- submit changes/suggest updates remotely (no login)
- solicit user feedback on the directory itself or directories in general

### Sorting
- sort by day of the week
- sort by “coming up”/next service date: today, tomorrow, this week
- sort by time of day
- sort by distance from current location

### Filtering
- filter by type of offering
- filter by day of the week
- filter by “coming up”/next service date: today, tomorrow, this week
- filter by time of day
- filter by location/part of town

## Non-Functional Requirements
***Description of how the software must behave.***

- Track when service listing was last updated
- Identify eligibility criteria/restrictions
- Identify dietary access to & accommodations for: vegetarian, vegan, kosher, halal, food allergies
- Indicate dates when accessed by people who actually used it
- Mobile-first and desktop-inclusive user interface
- Present views based on permissions/user type:
    - Customer/Public - read access; write access via public forms. default if no login detected
    - Editor - write and update access for keys
    - Database Admin - write and update access for attributes and keys

# System Architecture
***High-level description of the system and its components.***

## Technology details
| **Service** | **Tool/Technology** | **Description** |
| --- | --- | --- |
| Asset Storage/CDN |  | Files for fetching (icons, images) |
| Backups |  | Database and full directory |
| Bug Tracking | [Github?](#Github) | Identify, triage, and resolve issues |
| Calendar UI |  | Present filtered results in a calendar |
| Database | [PostgreSQL?](#PostgreSQL) | Data repository |
| Domain Registrar |  | Domain management |
| [Duplication Management](https://www.jasminedirectory.com/blog/duplicate-listing-management/) |  | Merge and prevent duplication |
| Form Submission |  | Public-facing write access |
| Map UI | [OpenStreetMaps API](#OSM) | Present filtered results in a map |
| Search Engine | [PostgreSQL?](#PostgreSQL) | Returns matching results from database |
| Version Control | [Github](#Github) | Track, merge, and revert changes |
| Website Hosting |  | Website management |
| Website UI |  | How the public and admins interact with the directory |

### Notes on technologies
1. Github<a name="Github"></a>
   1. Free
   2. Familiar
2. OpenStreetMaps<a name="OSM"></a>
   1. Open-source
   2. Free?
3. PostgreSQL<a name="PostgreSQL"></a>
   1. Built-in flexible full-text search
   2. Handles large volumes of data
   3. Can ensure data integrity
   4. Scales effectively under heavy workloads
   5. Can PostGIS be of use?

## Component Details
***Detailed description of each component and its functionality.***

| **Name** | **Description** | **Technology** | **Interactions** |
| --- | --- | --- | --- |
| Food | Track services | Database | Back-end repository. Main database |
| Organizers | Track people and groups that organize services | Database | Back-end repository |
| Venues | Track locations where services occur | Database | Back-end repository |
| Verifications | Track user-provided feedback on services | Database | Back-end repository |
| Features | Organize service attributes | Database | Back-end repository |
| Food Browser | Interface for the public to engage with the Food Browser directory | Page | Read-only access to Food db |
| Verification Tracker | Interface for the public to engage with the Verification Tracker | Page | Read-only access to Verifications db |
| Add organizer | Interface for the public to submit a service organizer | Form | Write-only access to Organizers db |
| Add venue | Interface for the public to submit a service venue | Form | Write-only access to Venues db |
| Add service | Interface for the public to submit a service | Form | Write-only access to Food db |
| Add verification | Interface for the public to submit a service verification | Form | Write-only access to Verifications db |

# Database Design
## Database Schemata
***Attributes for each database and how the databases are related.***

_Primary key indicated by *_

_Secondary key indicated by ^_

_Formula-populated fields indicated by +_

| Venues db |
| --- |
| VENUE-ID*
VENUE-CREATEDTIME
VENUE-CREATEDBY
VENUE-UPDATEDTIME
VENUE-UPDATEDBY
VENUE-ISARCHIVED
VENUE-TYPE
VENUE-ADDRESS
VENUE-SHORTADDRESS+
VENUE-CITY+
VENUE-ZIP+
VENUE-FEATURES
ORGANIZER-ID^
FOOD-ID^ |

| Organizers db |
| --- |
| ORG-ID*
ORG-CREATEDTIME
ORG-CREATEDBY
ORG-UPDATEDTIME
ORG-UPDATEDBY
ORG-ISARCHIVED
ORG-WEBSITE
ORG-CONTACT
VENUE-ID^
FOOD-ID^ |

| Food db |
| --- |
| FOOD-ID*
FOOD-CREATEDTIME
FOOD-CREATEDBY
FOOD-UPDATEDTIME
FOOD-UPDATEDBY
FOOD-ISARCHIVED
FOOD-INTERVAL
FOOD-DAYOFWEEK
FOOD-START
FOOD-END
FOOD-NEXTSERVICE+
FEAT-ID^
VISIT-ID^
ORG-ID^
VENUE-ID^
VENUE-ADDRESS
FOOD-STREET+
VENUE-CITY
VENUE-ZIP
FOOD-MAPLINK+
FOOD-NEEDSREVIEW
FOOD-HOURS+
FOOD-STARTPERIOD+
FOOD-ENDPERIOD+ |

| Features db |
| --- |
| FEAT-ID*
FEAT-NAME
FEAT-TYPE
FEAT-DESCRIPTION
FOOD-ID^
VISIT-ID^ |

| Verifications db |
| --- |
| VISIT-ID*
VISIT-CREATEDTIME
VISIT-VERIFIEDBY
FOOD-ID^
VISIT-DATE
FEAT-ID^
VISIT-ISACTIVE
VISIT-ISACCURATE
VISIT-ISWORTHWHILE
VISIT-STAFF
VISIT-GUESTS
VISIT-STATEMENTS
VISIT-NOTES
VISIT-IMPROVEMENTS |

# Detailed Design
***Description of algorithms and their implementation.***
## Formulas

| **Description** | **Location** | **Code** | **Last Edited** |
| --- | --- | --- | --- |
| Create time range from two strings | Food db | [See code](1) | 12/13/25 |
| Service time of day based on service start time | Food db | [See code](2) | 11/23/25 |
| Combined service interval, service day, and hours | Food db | [See code](3) | 12/13/25 |
| Flag for review if new or if edits are older than 4 months | Food db | [See code](4) |  |
| Parse address | Venues db | [See code](5) | 11/11/25 |
| Create Google Map URL | Food db | `if(empty(Venue),"",link("View on Google Maps","https://www.google.com/maps/place/" + replaceAll(Venue, " ", "+")))` |  |

### Formula Code
***Note: These formulas were written for Notion. Syntax will differ post-migration.***

#### Create time range from two strings<a name="1"></a>
***Standardizes time input format as H:MMxm (force lowercase, colon, minutes, "m"). This was necessary to create a time field unrelated to a date/time field.***
        
**Steps for conditional logic:**
1. Is time in a valid format? Requires at minimum 1 valid digit and either the letter 'p' or 'a'.
2. Does time include colon (:)?
3. Does time include the letter "m"?
4. Does time include a leading 0?
5. Does time include seconds?

`concat([
    lower(
        replace(
            if( test(prop("Start Time"),"^([1-9]|0[1-9]|1[0-2])(:?[0-5]?[0-9]?)(:?[0-5]?[0-9]?)(\s*[AaPp]\.?[Mm]?\.?)$"), 
            if( contains(prop("Start Time"),":"), 
            if( contains(lower(prop("Start Time")), "m"), 
            replace(replace(prop("Start Time"),"^([^\d]*\d{1,2}:\d{1,2}):\d{1,2}([^\d]*)$", "$1$2"),"^[0]",""), 
            prop("Start Time")+"m"
            ), 
            if( contains(lower(prop("Start Time")), "m"), 
            replace(prop("Start Time"), "\d+", replace(prop("Start Time"),"\D+")+":00"),
            replace(prop("Start Time"), "\d+", replace(prop("Start Time"),"\D+")+":00")+"m"
            )
            ), 
            "Invalid format"
            ),
            "\s","")
            ) +
            lower(
            replace(
            if( test(prop("End Time"),"^([1-9]|0[1-9]|1[0-2])(:?[0-5]?[0-9]?)(:?[0-5]?[0-9]?)(\s*[AaPp]\.?[Mm]?\.?)$"), 
            if( contains(prop("End Time"),":"), 
            if( contains(lower(prop("End Time")), "m"), 
            "-"+replace(replace(prop("End Time"),"^([^\d]*\d{1,2}:\d{1,2}):\d{1,2}([^\d]*)$", "$1$2"),"^[0]",""),
            "-"+prop("End Time")+"m"
            ), 
            if( contains(lower(prop("End Time")), "m"), 
            "-"+replace(prop("End Time"), "\d+", replace(prop("End Time"),"\D+")+":00"),
            "-"+replace(prop("End Time"), "\d+", replace(prop("End Time"),"\D+")+":00")+"m"
            )
            ), 
            ""
            ),
        "\s","")
    )
])`

#### Time of day when service starts<a name="2"></a>
- Morning before noon
- Afternoon from noon to before 4
- Evening from 4 until 6
- Late from 6 to before midnight

`if(test(prop("Start Time"),"[Pp]"),
    let(startTime, toNumber(formatNumber(toNumber(prop("Start Time"))+12,"humanize")),
    if(startTime < 12, "Morning",
    if(startTime < 16, "Afternoon",
    if(startTime < 18, "Evening",
        if(startTime < 24, "Late",
        if(startTime == 24, "Afternoon","")
        )
    )
    )
    )
    ),
    if(test(prop("Start Time"),"[Aa]"),
    "Morning",
    ""
    )
)`

#### Time of day when service ends
- Morning before noon
- Afternoon from noon to before 5
- Evening from 5 until 7
- Late from 7 to before midnight

`if(test(prop("End Time"),"[Pp]"),
    let(endTime, toNumber(formatNumber(toNumber(prop("End Time"))+12,"humanize")),
    if(endTime < 12, "Morning",
    if(endTime < 17, "Afternoon",
    if(endTime < 19, "Evening",
        if(endTime < 24, "Late",
        if(endTime == 24, "Afternoon","")
        )
    )
    )
    )
    ),
    if(test(prop("End Time"),"[Aa]"),
    "Morning",
    ""
    )
)`

#### Combined time of day
`if(and(not(empty(prop("End Time of Day"))),unequal(prop("Start Time of Day"),prop("End Time of Day"))),
    prop("Start Time of Day")+", "+prop("End Time of Day"),
    prop("Start Time of Day")
)`

#### Combined service interval, service day, and hours<a name="3"></a>
`if(or(context("This page").prop("Service Interval") == "Weekly", empty(context("This page").prop("Service Interval"))),
    join([
    context("This page").prop("Day of the Week")+"s",
    context("This page").prop("Service Hours")]," "),
    replaceAll(context("This page").prop("Service Interval"),"[,]"," ")
    +" "+context("This page").prop("Day of the Week")+"s "
    +context("This page").prop("Service Hours")
)`

#### Flag for review if new or if edits are older than 4 months<a name="4"></a>
`if(
    or(
    parseDate(prop("Last edited")) == parseDate(prop("Created time")),
    (dateBetween(now(), prop("Last edited"), "months") >= 4)
    ),
    "Yes",
    "No"
)`

#### Parse address<a name="5"></a>
1. Cleanup full address for public-facing view (remove country, state if CO, and last 4 of zip)<br />
   `replace(replace(replace(prop("Address (Map)"), ", (United States)$", ""), "-(\d{4})$", ""), ", CO","")`
2. Isolate street address<br />
   `replace(split(prop("Address (Map)"), ", "), ",.+$", "")`
3. Isolate city name<br />
   `replace(replace(prop("Address (Map)"), "^(\d{1,6})\s([A-Za-z0-9]+)\s([A-Za-z0-9]*)\s?([A-Za-z]*)\s?([A-Za-z]*)\W{0,2}", ""), ", [A-Za-z]{2} (\d{5})-?(\d{4})?, (United States)$", "")`
4. Isolate 5-digit zip code 12/21/25<br />
   `replace(
replace(
replace(
    prop("Address (Map)"), ", (United States)$", ""),
    "-(\d{4})$",""),
    "^(\d{1,6}\s[A-Za-z0-9]+\s[A-Za-z0-9]*\s?[A-Za-z]*\s?[A-Za-z]*)\W{0,2}([A-Za-z]+\s?[A-Za-z]*), (CO)\s", "")`

# Interface Design
***Description of the user interface and its components.***

## Food Browser
<img width="600" alt="Screenshot labeling features on the food browser" src="https://github.com/user-attachments/assets/5c92a2da-b747-4b96-ab53-c67df6ee68c0" />

## Verification Tracker
TBD

## Iconography
TBD

## Calendar Interface
TBD

## Map Interface
TBD

# Testing Plan
## **Test Cases**

| Test ID | Description | Input | Expected Outcome | Actual Outcome |
| --- | --- | --- | --- | --- |
|  |  |  |  |  |
|  |  |  |  |  |

# Maintenance Plan
## Bug Fixes

| ID | Description | Priority | Status | Notes |
| --- | --- | --- | --- | --- |
|  |  |  |  |  |
|  |  |  |  |  |

## Future Work
***This is an incomplete wishlist of high-to-mid priority future updates.***

- Design and implement phone hotline with filtering, searching, sorting by voice or keypad
- Support device-free access via physical directory locations
- Incorporate services and experiences beyond food
- Streamlined feedback solicitation regarding directory
- Streamlined feedback solicitation regarding food services
- Streamlined community editing
- Localization for Spanish, Mandarin, Vietnamese
